<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinkercad Clone</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
                "three-mesh-bvh": "https://unpkg.com/three-mesh-bvh@0.7.0/build/index.module.js",
                "three-bvh-csg": "https://unpkg.com/three-bvh-csg@0.0.16/build/index.module.js"
            }
        }
    </script>
</head>

<body class="theme-classic">
    <div id="shape-sidebar" class="sidebar open">
        <div class="sidebar-header">
            <h3>Shapes</h3>
            <button id="minimize-sidebar" title="Minimize"><span class="material-symbols-rounded">remove</span></button>
        </div>
        <div id="shape-grid" class="shape-grid">
            <!-- Shapes will be populated here -->
        </div>
    </div>

    <button id="shapes-bubble" class="shapes-bubble" title="Open Shapes">
        <span class="material-symbols-rounded" style="font-size: 24px;">view_in_ar</span>
    </button>

    <div id="toolbar">
        <div class="toolbar-group">
            <!-- Shapes moved to sidebar -->
        </div>
        <div class="separator"></div>
        <div class="toolbar-group">
            <button id="align-tool" title="Align Objects" disabled><span
                    class="material-symbols-rounded">align_horizontal_center</span> Align</button>
            <button id="combine-tool" title="Combine Objects" disabled><span
                    class="material-symbols-rounded">group_work</span> Combine</button>
        </div>
        <div class="separator"></div>
        <div class="toolbar-group">
            <button id="export-stl" title="Export STL"><span class="material-symbols-rounded">download</span>
                Export</button>
        </div>
        <div class="separator"></div>
        <div class="toolbar-group">
            <button id="settings-btn" title="Settings"><span class="material-symbols-rounded">settings</span></button>
        </div>
    </div>



    <div id="properties-panel">
        <h3>Properties</h3>
        <div id="no-selection">Select an object</div>
        <div id="object-properties" style="display: none;">
            <!-- Header: Name & Color -->
            <div class="prop-row header-row">
                <input type="text" id="object-name" placeholder="Unnamed Object" class="name-input">
                <input type="color" id="object-color" class="color-input" title="Color">
            </div>

            <!-- Type Selector -->
            <div class="prop-row type-row">
                <div class="type-buttons segmented">
                    <button id="type-solid" class="type-btn active"><span class="material-symbols-rounded"
                            style="font-size: 18px; vertical-align: middle;">check_box_outline_blank</span>
                        Solid</button>
                    <button id="type-hole" class="type-btn"><span class="material-symbols-rounded"
                            style="font-size: 18px; vertical-align: middle;">texture</span> Hole</button>
                </div>
            </div>

            <div class="prop-divider"></div>

            <!-- Transform Grid -->
            <div class="transform-grid">
                <!-- Dimensions -->
                <div class="transform-label">Size</div>
                <input type="number" id="object-width" step="0.1" placeholder="W" title="Width">
                <input type="number" id="object-height" step="0.1" placeholder="H" title="Height">
                <input type="number" id="object-depth" step="0.1" placeholder="D" title="Depth">

                <!-- Position -->
                <div class="transform-label">Pos</div>
                <input type="number" id="offset-x" step="0.1" value="0" placeholder="X" title="Position X">
                <input type="number" id="offset-y" step="0.1" value="0" placeholder="Y" title="Position Y">
                <input type="number" id="offset-z" step="0.1" value="0" placeholder="Z" title="Position Z">

                <!-- Rotation -->
                <div class="transform-label">Rot</div>
                <input type="number" id="rotate-x" step="1" value="0" placeholder="X" title="Rotation X">
                <input type="number" id="rotate-y" step="1" value="0" placeholder="Y" title="Rotation Y">
                <input type="number" id="rotate-z" step="1" value="0" placeholder="Z" title="Rotation Z">
            </div>

            <div class="prop-divider"></div>

            <!-- Actions -->
            <div class="prop-row actions-row">
                <button id="uncombine-object" style="display: none;" class="action-btn secondary">Uncombine</button>
                <button id="delete-object" class="action-btn danger">Delete</button>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button id="close-settings" class="close-btn"><span
                        class="material-symbols-rounded">close</span></button>
            </div>

            <div class="setting-item">
                <label>Flip GUI</label>
                <button id="flip-gui-btn" class="action-btn secondary">Flip Interface</button>
            </div>

            <div class="separator-horizontal"></div>

            <div class="setting-item">
                <label>Display Theme</label>
                <select id="theme-select" class="input-select">
                    <option value="classic">Classic</option>
                    <option value="galaxy">Galactic Gold</option>
                </select>
            </div>

            <div class="separator-horizontal"></div>

            <div class="setting-item">
                <label>Snap Grid (mm)</label>
                <input type="number" id="snap-setting" value="1.0" step="0.1" min="0">
            </div>

            <div class="setting-item">
                <label>Grid Size (mm)</label>
                <input type="number" id="grid-size" value="200" step="10">
            </div>
        </div>
    </div>

    <script type="module" src="main.js?v=2"></script>
</body>

</html>