<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinkercad Clone</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div id="shape-sidebar" class="sidebar open">
        <div class="sidebar-header">
            <h3>Shapes</h3>
            <button id="minimize-sidebar" title="Minimize">‚îÄ</button>
        </div>
        <div id="shape-grid" class="shape-grid">
            <!-- Shapes will be populated here -->
        </div>
    </div>

    <button id="shapes-bubble" class="shapes-bubble" title="Open Shapes">
        <span style="font-size: 24px;">üì¶</span>
    </button>

    <div id="toolbar">
        <div class="toolbar-group">
            <!-- Shapes moved to sidebar -->
        </div>
        <div class="separator"></div>
        <div class="toolbar-group">
            <button id="align-tool" title="Align Objects" disabled>‚äû Align</button>
            <button id="combine-tool" title="Combine Objects" disabled>‚äï Combine</button>
            <button id="face-snap-tool" title="Snap Faces">üìê Snap Faces</button>
        </div>
        <div class="separator"></div>
        <div class="toolbar-group">
            <button id="import-btn" title="Import File">üìÇ Import</button>
            <button id="export-btn" title="Export File">üíæ Export</button>
        </div>
    </div>

    <!-- Hidden File Input for Import -->
    <input type="file" id="file-input" accept=".stl,.imagine" style="display: none;">

    <!-- Export Modal -->
    <div id="export-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Export</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Choose an export format:</p>
                <div class="export-options">
                    <button id="export-imagine-btn" class="export-option-btn">
                        <span class="icon">‚ú®</span>
                        <div class="text">
                            <span class="title">Imagine Project (.imagine)</span>
                            <span class="desc">Save with all combine details and properties</span>
                        </div>
                    </button>
                    <button id="export-stl-btn" class="export-option-btn">
                        <span class="icon">üßä</span>
                        <div class="text">
                            <span class="title">3D Object (.stl)</span>
                            <span class="desc">Export geometry for 3D printing</span>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>



    <div id="properties-panel">
        <h3>Properties</h3>
        <div id="no-selection">Select an object</div>
        <div id="object-properties" style="display: none;">
            <!-- Header: Name & Color -->
            <div class="prop-row header-row">
                <input type="text" id="object-name" placeholder="Unnamed Object" class="name-input">
                <input type="color" id="object-color" class="color-input" title="Color">
            </div>

            <!-- Type Selector -->
            <div class="prop-row type-row">
                <div class="type-buttons segmented">
                    <button id="type-solid" class="type-btn active">Solid</button>
                    <button id="type-hole" class="type-btn">Hole</button>
                </div>
            </div>

            <div class="prop-divider"></div>

            <!-- Transform Grid -->
            <div class="transform-grid">
                <!-- Dimensions -->
                <div class="transform-label">Size</div>
                <input type="number" id="object-width" step="0.1" placeholder="W" title="Width">
                <input type="number" id="object-height" step="0.1" placeholder="H" title="Height">
                <input type="number" id="object-depth" step="0.1" placeholder="D" title="Depth">

                <!-- Position -->
                <div class="transform-label">Pos</div>
                <input type="number" id="offset-x" step="0.1" value="0" placeholder="X" title="Position X">
                <input type="number" id="offset-y" step="0.1" value="0" placeholder="Y" title="Position Y">
                <input type="number" id="offset-z" step="0.1" value="0" placeholder="Z" title="Position Z">

                <!-- Rotation -->
                <div class="transform-label">Rot</div>
                <input type="number" id="rotate-x" step="1" value="0" placeholder="X" title="Rotation X">
                <input type="number" id="rotate-y" step="1" value="0" placeholder="Y" title="Rotation Y">
                <input type="number" id="rotate-z" step="1" value="0" placeholder="Z" title="Rotation Z">
            </div>

            <div class="prop-divider"></div>

            <!-- Actions -->
            <div class="prop-row actions-row">
                <button id="uncombine-object" style="display: none;" class="action-btn secondary">Uncombine</button>
                <button id="delete-object" class="action-btn danger">Delete</button>
            </div>
        </div>
    </div>

    <div id="settings-bar">
        <div class="setting-group">
            <label>Snap Grid:</label>
            <input type="number" id="snap-setting" value="1.0" step="0.1" min="0"> mm
        </div>
        <div class="separator"></div>
        <div class="setting-group">
            <label>Grid Size:</label>
            <input type="number" id="grid-size" value="200" step="10"> mm
        </div>
    </div>

    <div id="selection-box" style="display: none;"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <script type="module" src="main.js"></script>
</body>

</html>